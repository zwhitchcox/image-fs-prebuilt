{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\zwhit\\\\dev\\\\cruster\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\zwhit\\\\dev\\\\cruster\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\zwhit\\\\dev\\\\cruster\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import SettingsContext from'../../Contexts/SettingsContext';import ActionsContext from'../../Contexts/ActionsContext';var Wifi=function Wifi(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var settings=useContext(SettingsContext);var _useContext=useContext(ActionsContext),runAction=_useContext.runAction;// wifi password\nvar _useState3=useState(settings.defaultPSK||\"\"),_useState4=_slicedToArray(_useState3,2),wifiPassword=_useState4[0],setWifiPassword=_useState4[1];var _useState5=useState(settings.defaultSSID||\"\"),_useState6=_slicedToArray(_useState5,2),ssid=_useState6[0],setSSID=_useState6[1];var addWifi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(wifiPassword.length<8)){_context.next=3;break;}return _context.abrupt(\"return\",setStatus(\"Wifi password must be at least 8 characters\"));case 3:if(!(ssid===\"\")){_context.next=5;break;}return _context.abrupt(\"return\",setStatus(\"SSID is required\"));case 5:setStatus(\"adding wifi credentials\");_context.next=8;return runAction({status:\"Adding Wifi Credentials for \".concat(ssid,\"...\"),type:\"add-wifi-credentials\",args:{ssid:ssid,wifiPassword:wifiPassword}});case 8:setStatus(\"Success!\");_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);setStatus(\"Error: See log for more details (top right)\");case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function addWifi(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",{className:\"top-margin-2\"},\"Add Wifi Credentials\"),/*#__PURE__*/React.createElement(\"div\",{className:\"text-input-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"label\"},\"SSID ( Wifi Name):\\xA0\\xA0\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{placeholder:\"SSID\",className:\"text-field-github\",type:\"text\",onChange:function onChange(e){return setSSID(e.target.value);},value:ssid}))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-input-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"label\"},\"PSK (Wifi Password):\\xA0\\xA0\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{placeholder:\"PSK\",className:\"text-field-github\",type:\"password\",onChange:function onChange(e){return setWifiPassword(e.target.value);},value:wifiPassword}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:addWifi},\"Add Wifi Credentials\"),/*#__PURE__*/React.createElement(\"br\",null),status));};export default Wifi;","map":{"version":3,"sources":["C:/Users/zwhit/dev/cruster/app/src/Image/Setup/Wifi.tsx"],"names":["React","useContext","useState","SettingsContext","ActionsContext","Wifi","status","setStatus","settings","runAction","defaultPSK","wifiPassword","setWifiPassword","defaultSSID","ssid","setSSID","addWifi","length","type","args","e","target","value"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,eACWH,QAAQ,CAAC,EAAD,CADnB,wCACVI,MADU,eACFC,SADE,eAEjB,GAAMC,CAAAA,QAAQ,CAAGP,UAAU,CAACE,eAAD,CAA3B,CAFiB,gBAGKF,UAAU,CAACG,cAAD,CAHf,CAGTK,SAHS,aAGTA,SAHS,CAKjB;AALiB,eAMuBP,QAAQ,CAACM,QAAQ,CAACE,UAAT,EAAuB,EAAxB,CAN/B,yCAMVC,YANU,eAMIC,eANJ,8BAOOV,QAAQ,CAACM,QAAQ,CAACK,WAAT,EAAwB,EAAzB,CAPf,yCAOVC,IAPU,eAOJC,OAPI,eAQjB,GAAMC,CAAAA,OAAO,0FAAG,wJAERL,YAAY,CAACM,MAAb,CAAsB,CAFd,0DAGHV,SAAS,CAAC,6CAAD,CAHN,cAKRO,IAAI,GAAK,EALD,0DAMHP,SAAS,CAAC,kBAAD,CANN,SAQZA,SAAS,CAAC,yBAAD,CAAT,CARY,sBASNE,CAAAA,SAAS,CAAC,CACdH,MAAM,uCAAiCQ,IAAjC,OADQ,CAEdI,IAAI,CAAE,sBAFQ,CAGdC,IAAI,CAAE,CACJL,IAAI,CAAJA,IADI,CAEJH,YAAY,CAAZA,YAFI,CAHQ,CAAD,CATH,QAiBZJ,SAAS,CAAC,UAAD,CAAT,CAjBY,iFAmBZA,SAAS,CAAC,6CAAD,CAAT,CAnBY,qEAAH,kBAAPS,CAAAA,OAAO,0CAAb,CAuBA,mBACE,4CACE,0BAAI,SAAS,CAAC,cAAd,yBADF,cAEE,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,OAAf,+BADF,cAIE,4CACE,6BACE,WAAW,CAAC,MADd,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,QAAQ,CAAE,kBAAAI,CAAC,QAAIL,CAAAA,OAAO,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,EAJb,CAKE,KAAK,CAAER,IALT,EADF,CAJF,CAFF,cAgBE,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,OAAf,iCADF,cAIE,4CACE,6BACE,WAAW,CAAC,KADd,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAE,kBAAAM,CAAC,QAAIR,CAAAA,eAAe,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAnB,EAJb,CAKE,KAAK,CAAEX,YALT,EADF,CAJF,CAhBF,cA8BE,4CACA,8BAAQ,OAAO,CAAEK,OAAjB,yBADA,cAEA,8BAFA,CAGCV,MAHD,CA9BF,CADF,CAsCD,CArED,CAuEA,cAAeD,CAAAA,IAAf","sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport SettingsContext from '../../Contexts/SettingsContext';\r\nimport ActionsContext from '../../Contexts/ActionsContext';\r\n\r\nconst Wifi = () => {\r\n  const [status, setStatus] = useState(\"\")\r\n  const settings = useContext(SettingsContext)\r\n  const { runAction } = useContext(ActionsContext)\r\n\r\n  // wifi password\r\n  const [wifiPassword, setWifiPassword] = useState(settings.defaultPSK || \"\")\r\n  const [ssid, setSSID] = useState(settings.defaultSSID || \"\")\r\n  const addWifi = async () => {\r\n    try {\r\n      if (wifiPassword.length < 8) {\r\n        return setStatus(\"Wifi password must be at least 8 characters\")\r\n      }\r\n      if (ssid === \"\") {\r\n        return setStatus(\"SSID is required\")\r\n      }\r\n      setStatus(\"adding wifi credentials\")\r\n      await runAction({\r\n        status: `Adding Wifi Credentials for ${ssid}...`,\r\n        type: \"add-wifi-credentials\",\r\n        args: {\r\n          ssid,\r\n          wifiPassword\r\n        },\r\n      })\r\n      setStatus(\"Success!\")\r\n    } catch (err) {\r\n      setStatus(\"Error: See log for more details (top right)\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"top-margin-2\">Add Wifi Credentials</h3>\r\n      <div className=\"text-input-container\">\r\n        <div className=\"label\">\r\n          SSID ( Wifi Name):&nbsp;&nbsp;\r\n        </div>\r\n        <div>\r\n          <input\r\n            placeholder=\"SSID\"\r\n            className=\"text-field-github\"\r\n            type=\"text\"\r\n            onChange={e => setSSID(e.target.value)}\r\n            value={ssid}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"text-input-container\">\r\n        <div className=\"label\">\r\n          PSK (Wifi Password):&nbsp;&nbsp;\r\n        </div>\r\n        <div>\r\n          <input\r\n            placeholder=\"PSK\"\r\n            className=\"text-field-github\"\r\n            type=\"password\"\r\n            onChange={e => setWifiPassword(e.target.value)}\r\n            value={wifiPassword}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div>\r\n      <button onClick={addWifi}>Add Wifi Credentials</button>\r\n      <br />\r\n      {status}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Wifi"]},"metadata":{},"sourceType":"module"}